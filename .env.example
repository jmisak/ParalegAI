# IRONCLAD Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env files with actual secrets to version control

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
APP_NAME=ironclad
APP_VERSION=0.1.0
APP_PORT=3001
APP_HOST=localhost
LOG_LEVEL=debug
TRUST_PROXY=false

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://postgres:your_password_here@localhost:5432/ironclad?schema=public

# Connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_IDLE_TIMEOUT=10000

# =============================================================================
# REDIS
# =============================================================================
# Redis connection string
# Format: redis://user:password@host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis cluster mode (production)
REDIS_CLUSTER_MODE=false

# =============================================================================
# AUTHENTICATION
# =============================================================================
# JWT signing secret (minimum 64 characters, use: openssl rand -hex 32)
JWT_SECRET=your_jwt_secret_here_minimum_64_characters_use_openssl_rand_hex_32

# JWT configuration
JWT_ACCESS_TOKEN_EXPIRES=900
JWT_REFRESH_TOKEN_EXPIRES=604800

# Session secret (minimum 64 characters)
SESSION_SECRET=your_session_secret_here_minimum_64_characters_use_openssl_rand_hex_32

# Argon2 configuration (adjust for your hardware)
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=4

# =============================================================================
# SECURITY
# =============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# CSRF secret
CSRF_SECRET=your_csrf_secret_here_minimum_32_characters

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Audit log signing secret
AUDIT_LOG_SECRET=your_audit_log_secret_here_minimum_32_characters

# =============================================================================
# ENCRYPTION
# =============================================================================
# Master encryption key (AES-256, 32 bytes base64)
# Generate with: openssl rand -base64 32
MASTER_ENCRYPTION_KEY=your_master_encryption_key_base64_encoded_32_bytes

# Field encryption key (for PII fields)
FIELD_ENCRYPTION_KEY=your_field_encryption_key_base64_encoded_32_bytes

# =============================================================================
# AI PROVIDERS
# =============================================================================
# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here

# OpenAI API (fallback)
OPENAI_API_KEY=sk-your_openai_api_key_here

# AI Gateway configuration
AI_GATEWAY_TIMEOUT=30000
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.1

# =============================================================================
# STORAGE
# =============================================================================
# AWS S3 or compatible storage
S3_BUCKET=ironclad-documents-dev
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your_s3_access_key_id
S3_SECRET_ACCESS_KEY=your_s3_secret_access_key
S3_ENDPOINT=

# Local storage fallback
LOCAL_STORAGE_PATH=./storage

# =============================================================================
# EMAIL
# =============================================================================
# SMTP configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_user
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@ironclad.app

# =============================================================================
# INTEGRATIONS
# =============================================================================
# DocuSign
DOCUSIGN_INTEGRATION_KEY=your_docusign_integration_key
DOCUSIGN_SECRET_KEY=your_docusign_secret_key
DOCUSIGN_ACCOUNT_ID=your_docusign_account_id
DOCUSIGN_BASE_URL=https://demo.docusign.net/restapi

# =============================================================================
# MONITORING
# =============================================================================
# Sentry error tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Application Performance Monitoring
APM_ENABLED=false
APM_SERVICE_NAME=ironclad-api

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_MFA_REQUIRED=true
FEATURE_AI_ENABLED=true
FEATURE_DOCUMENT_ANALYSIS=true
